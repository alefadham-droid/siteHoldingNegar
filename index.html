<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุงุดู ุญุณุงุจ ูุฑุบุฏุงุฑ</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        .date-header {
            background: white;
            border-radius: 50px;
            padding: 10px 20px;
            display: inline-block;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            color: #333;
            font-weight: 500;
        }
        
        .date-header i {
            color: #667eea;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="date-header">
                <i>๐</i> ุงูุฑูุฒ: <span id="jalaliDate">ฑดฐฒ/ฑฒ/ฐฑ</span>
            </div>
            <h1>๐งฎ ูุงุดู ุญุณุงุจ ุชุฎุตุต ูุฑุบุฏุงุฑ</h1>
            <p>ูุญุงุณุจู ุฏูู ูพุงุฑุงูุชุฑูุง ูพุฑูุฑุด ุทูุฑ</p>
        </header>

        <div class="cards-grid">
            <!-- ฺฉุงุฑุช ูุงุดู ุญุณุงุจ ุถุฑุจ ุชุจุฏู -->
            <div class="card">
                <div class="card-icon">๐</div>
                <h2>ุถุฑุจ ุชุจุฏู ุบุฐุง (FCR)</h2>
                <p>ูุญุงุณุจู ุถุฑุจ ุชุจุฏู ุฎูุฑุงฺฉ ุจู ฺฏูุดุช</p>
                <a href="pages/fcr-calculator.html" class="btn">ูุญุงุณุจู</a>
            </div>

            <!-- ฺฉุงุฑุช ูุงุดู ุญุณุงุจ ุชููุงุช -->
            <div class="card">
                <div class="card-icon">๐</div>
                <h2>ุฏุฑุตุฏ ุชููุงุช</h2>
                <p>ูุญุงุณุจู ุชููุงุช ู ูุฒูู ูุง ูุงุด ุงุฒ ุขู</p>
                <a href="pages/mortality-calculator.html" class="btn">ูุญุงุณุจู</a>
            </div>

            <!-- ฺฉุงุฑุช ูุงุดู ุญุณุงุจ ุฏุงูุฎูุฑ -->
            <div class="card">
                <div class="card-icon">โ๏ธ</div>
                <h2>ุณุฑุงูู ูุตุฑู ุฏุงู</h2>
                <p>ุจุฑุฑุณ ูุตุฑู ุฏุงู ูุณุจุช ุจู ูุฒู ูพุฑูุฏู</p>
                <a href="pages/feed-conversion.html" class="btn">ูุญุงุณุจู</a>
            </div>

            <!-- ฺฉุงุฑุช ูุงุดู ุญุณุงุจ ุชูุธู ุฏูุฑ ูู -->
            <div class="card">
                <div class="card-icon">๐</div>
                <h2>ุชูุธู ุฏูุฑ ูู (ุชููู)</h2>
                <p>ูุญุงุณุจู ุชููู ููุฑุฏ ูุงุฒ ู ุชูุธู ุฏูุฑ ูู</p>
                <a href="pages/fan-calculator.html" class="btn">ูุญุงุณุจู ุชููู</a>
            </div>

            <!-- ฺฉุงุฑุช ฺฏุฒุงุฑุด ุฑูุฒุงูู -->
            <div class="card">
                <div class="card-icon">๐</div>
                <h2>ฺฏุฒุงุฑุด ุฑูุฒุงูู</h2>
                <p>ุซุจุช ููุงุน ุฑูุฒุงููุ ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ ู ูููุฏุงุฑ ุฑุดุฏ</p>
                <a href="pages/daily-report.html" class="btn">ูุดุงูุฏู ฺฏุฒุงุฑุด</a>
            </div>
        </div>

        <!-- ุฌุฏูู ุซุจุช ุฏุงุฏูโูุง -->
        <div class="data-table-section">
            <h2>๐ ุซุจุช ุฏุงุฏูโูุง ุฑูุฒุงูู</h2>
            <div class="table-container">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>ุฑูุฒ ูพุฑูุฑุด</th>
                            <th>ุชุงุฑุฎ (ุดูุณ)</th>
                            <th>ุชุนุฏุงุฏ ูพุฑูุฏู</th>
                            <th>ูุฒู (ฺฏุฑู)</th>
                            <th>ุฏุงู ูุตุฑู (ฺฉููฺฏุฑู)</th>
                            <th>ุชููุงุช</th>
                            <th>ุนููุงุช</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- ุฑุฏูโูุง ุจุง JavaScript ุงุถุงูู ูโุดููุฏ -->
                    </tbody>
                </table>
            </div>
            
            <div class="table-controls">
                <button class="btn btn-success" onclick="addRow()">โ ุงูุฒูุฏู ุฑุฏู</button>
                <button class="btn btn-primary" onclick="calculateAll()">๐ ูุญุงุณุจู ููุง</button>
                <button class="btn btn-danger" onclick="resetTable()">๐ ุฑุณุช ุฌุฏูู</button>
            </div>

            <!-- ูุชุงุฌ ูุญุงุณุจุงุช -->
            <div class="results-section" id="resultsSection">
                <h3>ูุชุงุฌ ูุญุงุณุจุงุช</h3>
                <div class="results-grid" id="resultsGrid">
                    <!-- ูุชุงุฌ ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดูุฏ -->
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>ุชูุงู ุญููู ูุญููุธ ุงุณุช ยฉ ฑดฐด</p>
    </footer>

    <script src="js/calculator.js"></script>
    <script>
        // ุชุงุจุน ุฏุฑุงูุช ุชุงุฑุฎ ุดูุณ ุงูุฑูุฒ
        function getTodayJalali() {
            const today = new Date();
            const j = gregorianToJalali(today.getFullYear(), today.getMonth() + 1, today.getDate());
            return `${j.jy}/${j.jm.toString().padStart(2, '0')}/${j.jd.toString().padStart(2, '0')}`;
        }

        // ุชูุงุจุน ุชุจุฏู ุชุงุฑุฎ
        function gregorianToJalali(gy, gm, gd) {
            let g_days_in_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            let j_days_in_month = [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 29];
            
            let gy2 = (gm > 2) ? (gy + 1) : gy;
            let days = 365 * (gy + 1) + Math.floor((gy2 - 1) / 4) - Math.floor((gy2 - 1) / 100) + Math.floor((gy2 - 1) / 400);
            
            for (let i = 0; i < gm - 1; i++) {
                if (i === 1 && ((gy % 4 === 0 && gy % 100 !== 0) || gy % 400 === 0)) {
                    days += 29;
                } else {
                    days += g_days_in_month[i];
                }
            }
            days += gd;
            
            let jy = 979;
            let jm = 1;
            let jd = 1;
            
            days -= 226896;
            
            while (days >= (365 * 4 + 1) * 4) {
                days -= (365 * 4 + 1) * 4;
                jy += 4;
            }
            
            while (days >= 365) {
                if ((jy % 4 === 2 && jy % 128 !== 0) || (jy % 1320 === 3)) {
                    days -= 366;
                } else {
                    days -= 365;
                }
                jy++;
            }
            
            while (days >= j_days_in_month[jm - 1]) {
                days -= j_days_in_month[jm - 1];
                jm++;
            }
            
            jd = days + 1;
            
            return { jy, jm, jd };
        }

        // ููุงุด ุชุงุฑุฎ ุดูุณ ุฏุฑ ุตูุญู ุงุตู
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('jalaliDate').textContent = getTodayJalali();
        });
    </script>
</body>
</html>
